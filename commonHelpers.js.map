{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/img/stop-icon.svg","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function searchPicture(userValue) {\n  const API_KEY = '42365845-25d760151cd88cf2d1cecf2ad';\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const PARAMS = `?key=${API_KEY}&q=${userValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n  const url = BASE_URL + END_POINT + PARAMS;\n\n  return fetch(url).then(res => res.json());\n}\n","export default \"__VITE_ASSET__50fe3f02__\"","import { refs } from '../main.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport stopIcon from '../img/stop-icon.svg';\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  overlayOpacity: 0.8,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport function galleryTemplate(resultsArr) {\n  return resultsArr.hits\n    .map(\n      ({ largeImageURL, webformatURL, tags }) => `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n  </a>\n</li>`\n    )\n    .join('');\n}\n\nexport function renderGallery(resultsArr) {\n  if (resultsArr.hits.length > 0) {\n    const markup = galleryTemplate(resultsArr);\n    refs.gallery.innerHTML = markup;\n    lightbox.refresh();\n  } else {\n    refs.gallery.innerHTML = '';\n    iziToast.show({\n      message:\n        'Sorry, there are no images matching<br>your search query. Please try again!',\n      color: 'red',\n      messageColor: '#fff',\n      backgroundColor: '#EF4040',\n      messageSize: '16',\n      position: 'topRight',\n      iconUrl: stopIcon,\n      messageLineHeight: '24',\n      closeOnClick: 'true',\n      close: 'false',\n      transitionIn: 'fadeInLeft',\n    });\n  }\n}\n","import searchPicture from './js/pixabay-api.js';\nimport { galleryTemplate, renderGallery } from './js/render-functions.js';\n\nexport const refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.searchForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const searchTopic = e.target.elements.query.value.trim();\n\n  if (searchTopic !== '') {\n    refs.loader.classList.remove('isHidden');\n    searchPicture(searchTopic).then(data => {\n      galleryTemplate(data);\n      renderGallery(data);\n      refs.loader.classList.add('isHidden');\n    });\n  }\n\n  e.target.reset();\n});\n\n// function renderGallery(resultsArr) {\n//   const markup = resultsArr.hits\n//     .map(\n//       ({ largeImageURL, webformatURL, tags }) => `<li class=\"gallery-item\">\n//   <a class=\"gallery-link\" href=\"${largeImageURL}\">\n//     <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n//   </a>\n// </li>`\n//     )\n//     .join('');\n\n//   refs.gallery.insertAdjacentHTML('afterbegin', markup);\n\n//   let lightbox = new SimpleLightbox('.gallery a', {\n//     overlayOpacity: 0.8,\n//     captionsData: 'alt',\n//     captionDelay: 250,\n//   });\n// }\n"],"names":["searchPicture","userValue","API_KEY","BASE_URL","END_POINT","PARAMS","url","res","stopIcon","lightbox","SimpleLightbox","galleryTemplate","resultsArr","largeImageURL","webformatURL","tags","renderGallery","markup","refs","iziToast","e","searchTopic","data"],"mappings":"6vBAAe,SAASA,EAAcC,EAAW,CAC/C,MAAMC,EAAU,qCACVC,EAAW,sBACXC,EAAY,QACZC,EAAS,QAAQH,CAAO,MAAMD,CAAS,2DACvCK,EAAMH,EAAWC,EAAYC,EAEnC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CCRA,MAAeC,EAAA,+CCOf,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,eAAgB,GAChB,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAgBC,EAAY,CAC1C,OAAOA,EAAW,KACf,IACC,CAAC,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,CAAM,IAAK;AAAA,kCACfF,CAAa;AAAA,sCACTC,CAAY,UAAUC,CAAI;AAAA;AAAA,MAG3D,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,EAAcJ,EAAY,CACxC,GAAIA,EAAW,KAAK,OAAS,EAAG,CAC9B,MAAMK,EAASN,EAAgBC,CAAU,EACzCM,EAAK,QAAQ,UAAYD,EACzBR,EAAS,QAAO,CACpB,MACIS,EAAK,QAAQ,UAAY,GACzBC,EAAS,KAAK,CACZ,QACE,8EACF,MAAO,MACP,aAAc,OACd,gBAAiB,UACjB,YAAa,KACb,SAAU,WACV,QAASX,EACT,kBAAmB,KACnB,aAAc,OACd,MAAO,QACP,aAAc,YACpB,CAAK,CAEL,CC5CO,MAAMU,EAAO,CAClB,WAAY,SAAS,cAAc,iBAAiB,EACpD,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,WAAW,iBAAiB,SAAUE,GAAK,CAC9CA,EAAE,eAAc,EAEhB,MAAMC,EAAcD,EAAE,OAAO,SAAS,MAAM,MAAM,OAE9CC,IAAgB,KAClBH,EAAK,OAAO,UAAU,OAAO,UAAU,EACvClB,EAAcqB,CAAW,EAAE,KAAKC,GAAQ,CACtCX,EAAgBW,CAAI,EACpBN,EAAcM,CAAI,EAClBJ,EAAK,OAAO,UAAU,IAAI,UAAU,CAC1C,CAAK,GAGHE,EAAE,OAAO,OACX,CAAC"}