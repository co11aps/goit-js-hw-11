{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport './js/pixabay-api.js';\nimport './js/render-functions.js';\n\nconst refs = {\n  searchForm: document.querySelector('.js-search-form'),\n  gallery: document.querySelector('.gallery'),\n};\n\nrefs.searchForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const searchTopic = e.target.elements.query.value;\n\n  searchPicture(searchTopic).then(data => {\n    console.log(data);\n    galleryTemplate(data);\n    renderGallery(data);\n  });\n\n  e.target.reset();\n});\n\nfunction searchPicture(userValue) {\n  const API_KEY = '42365845-25d760151cd88cf2d1cecf2ad';\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n  const PARAMS = `?key=${API_KEY}&q=${userValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n  const url = BASE_URL + END_POINT + PARAMS;\n\n  return fetch(url).then(res => res.json());\n}\n\nfunction galleryTemplate(resultsArr) {\n  return resultsArr.hits\n    .map(\n      ({ largeImageURL, webformatURL, tags }) => `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n  </a>\n</li>`\n    )\n    .join('');\n}\n\nfunction renderGallery(resultsArr) {\n  const markup = galleryTemplate(resultsArr);\n  refs.gallery.innerHTML = markup;\n  lightbox.refresh();\n}\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  overlayOpacity: 0.8,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\n// function renderGallery(resultsArr) {\n//   const markup = resultsArr.hits\n//     .map(\n//       ({ largeImageURL, webformatURL, tags }) => `<li class=\"gallery-item\">\n//   <a class=\"gallery-link\" href=\"${largeImageURL}\">\n//     <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n//   </a>\n// </li>`\n//     )\n//     .join('');\n\n//   refs.gallery.insertAdjacentHTML('afterbegin', markup);\n\n//   let lightbox = new SimpleLightbox('.gallery a', {\n//     overlayOpacity: 0.8,\n//     captionsData: 'alt',\n//     captionDelay: 250,\n//   });\n// }\n"],"names":["refs","e","searchTopic","searchPicture","data","galleryTemplate","renderGallery","userValue","API_KEY","BASE_URL","END_POINT","PARAMS","url","res","resultsArr","largeImageURL","webformatURL","tags","markup","lightbox","SimpleLightbox"],"mappings":"svBAOA,MAAMA,EAAO,CACX,WAAY,SAAS,cAAc,iBAAiB,EACpD,QAAS,SAAS,cAAc,UAAU,CAC5C,EAEAA,EAAK,WAAW,iBAAiB,SAAUC,GAAK,CAC9CA,EAAE,eAAc,EAEhB,MAAMC,EAAcD,EAAE,OAAO,SAAS,MAAM,MAE5CE,EAAcD,CAAW,EAAE,KAAKE,GAAQ,CACtC,QAAQ,IAAIA,CAAI,EAChBC,EAAgBD,CAAI,EACpBE,EAAcF,CAAI,CACtB,CAAG,EAEDH,EAAE,OAAO,OACX,CAAC,EAED,SAASE,EAAcI,EAAW,CAChC,MAAMC,EAAU,qCACVC,EAAW,sBACXC,EAAY,QACZC,EAAS,QAAQH,CAAO,MAAMD,CAAS,2DACvCK,EAAMH,EAAWC,EAAYC,EAEnC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CAEA,SAASR,EAAgBS,EAAY,CACnC,OAAOA,EAAW,KACf,IACC,CAAC,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,CAAM,IAAK;AAAA,kCACfF,CAAa;AAAA,sCACTC,CAAY,UAAUC,CAAI;AAAA;AAAA,MAG3D,EACA,KAAK,EAAE,CACZ,CAEA,SAASX,EAAcQ,EAAY,CACjC,MAAMI,EAASb,EAAgBS,CAAU,EACzCd,EAAK,QAAQ,UAAYkB,EACzBC,EAAS,QAAO,CAClB,CAEA,IAAIA,EAAW,IAAIC,EAAe,aAAc,CAC9C,eAAgB,GAChB,aAAc,MACd,aAAc,GAChB,CAAC"}